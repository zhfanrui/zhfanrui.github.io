---
layout:   post
title:    "8051 单片机"
subtitle: "读书笔记"
date:     2016-04-17 00:00:09
author:   "Stephen"
header-img: "img/post-bg.jpg"
catalog: true
tag:
    - 8051
---







# 单片机初步

*The 8051 Microcintroller (4th Edition)* 

## 8051 微控制器基本结构

### 总线结构及运行方式

8051 处理器有三条总线，分别为：

 * 地址总线
 * 数据总线
 * 列表总线
    
基本操作模式为：

 1. 程序计数器的内容被放在**地址总线**上
 2. 激活读控制信号（**控制总线**）
 3. 从 RAM 中读取数据，并放在**数据总线**上
 4. 操作码锁存在 CPU 的内部**指令寄存器**中
 5. **程序计数器**加一，准备下一条指令读取

[图]

数据总线是双向的，地址总线是单向的（总是由 CPU 提供）。

### 引脚功能

#### P3 第二功能

<table>
   <tr>
      <th>位</th>
      <th>信号名</th>
      <th>位地址</th>
      <th>功能</th>
   </tr>
   <tr>
      <td>P3.0</td>
      <td>RXD</td>
      <td>B0H</td>
      <td>接受串行端口数据</td>
   </tr>
   <tr>
      <td>P3.1</td>
      <td>TXD</td>
      <td>B1H</td>
      <td>发送串行端口数据</td>
   </tr>
   <tr>
      <td>P3.2</td>
      <td><my:o>INT0</my:o></td>
      <td>B1H</td>
      <td>外部中断0</td>
   </tr>
   <tr>
      <td>P3.3</td>
      <td><my:o>INT1</my:o></td>
      <td>B2H</td>
      <td>外部中断1</td>
   </tr>
   <tr>
      <td>P3.4</td>
      <td>T0</td>
      <td>B4H</td>
      <td>定时器/计数器外部输入0</td>
   </tr>
   <tr>
      <td>P3.5</td>
      <td>T1</td>
      <td>B4H</td>
      <td>定时器/计数器外部输入1</td>
   </tr>
   <tr>
      <td>P3.6</td>
      <td><my:o>WR</my:o></td>
      <td>B6H</td>
      <td>外部数据存储器写</td>
   </tr>
   <tr>
      <td>P3.7</td>
      <td>RD</td>
      <td>B7H</td>
      <td>外部数据存储器读</td>
   </tr>
   <tr>
      <td>P1.0</td>
      <td>T2</td>
      <td>90H</td>
      <td>定时器/计数器2外部输入</td>
   </tr>
   <tr>
      <td>P1.1</td>
      <td>T2EX</td>
      <td>91H</td>
      <td>定时器/计数器2捕获/重载</td>
   </tr>
</table>


#### <my:o>PSEN</my:o>

<my:o>PSEN</my:o>（程序存储启用）是位于引脚 29 的输出信号，用来控制启用外部程序存储器。常与 EPROM（可擦可编写只读存储器）的 <my:o>OE</my:o>（输出使能）引脚连接。

#### ALE

ALE（地址锁存启用）是位于引脚 30 的输出信号

**暂时不懂= =**

#### <my:o>EA</my:o>

<my:o>EA</my:o>（外部访问）是位于引脚 31 的输入信号。若接入高电平，则从内部 RAM, ROM 读取；反之接入低电平，则从外部读取。

#### RST

RST（复位）是位于引脚 9 的输入信号，如果接入两个机器周期高电平，机器复位。正常工作时为低电平。

### 存储器组织

#### RAM

[图]

#### 寄存器组

#### 特殊功能寄存器






